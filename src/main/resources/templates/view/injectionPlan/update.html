<script th:inline="javascript">
$(".ip_upremovefield").click(function(){
	var id=$(this).closest('td').find('input[name=ip_upid]').val();
	  var pid=$("#ip_uppid").val();
	  url="/injectionPlan/deleteinjection2";
	  $.ajax({
		  url:url,
		  data:{pid:pid,id:id},
		  success:function(res){
			  $("#loadtable").html(res);
          	$("#exampleModal").show();
		  }
	  });
});

$("#ip_upupbt").click(function(){
	url="/injectionPlan/saveupdate";
	$.ajax({
		url:url,
		data:$("#ip_upmainform").serialize(),
		success:function(res){
			$("#loadtable").html(res);
          	$("#exampleModal").show();
		}
	});
});
</script>

<div class="row">
<div class="col-md-1"></div>
                    <div class="col-lg-10" style="overflow-x: auto; overflow-y: hidden;">
						<form id="ip_upmainform">
                        <table id="ip_upexample" class="table table-hover table-hover" >
							<tr>
							<th nowrap="nowrap">&nbsp;&nbsp;&nbsp;Step&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							<th nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Fluid
								Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
							<th nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Stage
								Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
							<th nowrap="nowrap">Rate(BPM)</th>
							<th nowrap="nowrap">Clean Volume(BBL)</th>
							<th nowrap="nowrap">Slurry Vol.(BBL)</th>
							<th nowrap="nowrap">Cumulative Slurry Vol.(BBL)</th>
							<th nowrap="nowrap">Begin Proppant Conc.(PPG)</th>
							<th nowrap="nowrap">End Proppant Conc.(PPG)</th>
							<th nowrap="nowrap">Stage Prop(LBS)</th>
							<th nowrap="nowrap">Cumulative Prop(LBS)</th>
							<th nowrap="nowrap">Step Time</th>
							</tr>
                           
                            <tr th:each="list:${list}" th:if="${list}!=null">
							<td><input type="text" min="0" max="" class="form-control"
								name="ip_upinput" id="ip_upstep" th:value="${list.step}" required
								style="border: none;"  /> <input id="ip_uppid"
								th:name="ip_uppid" type="hidden" th:value=${pid}></td>
							<td>
							<select name="ip_upinput" id="ip_upftype"
								class="form-control" style="border: none;">
								<option selected hidden th:if="${ftype}!=null" th:value="${ftype}">[[${ftype}]]</option>
								<option value="Acid">Acid</option>
									<option value="Slick Water">Slick Water</option>
									<option value="Fresh Water">Fresh Water</option>
									<option value="Linear Gel">Linear Gel</option>
									<option value="Cross Link">Cross Link</option>
							</select>
							</td>
							<td>
							<select class="form-control" name="ip_upinput"
								id="ip_upstype" style="border: none;">
								<option selected hidden th:if="${stype}!=null" th:value="${stype}">[[${stype}]]</option>
									<option value="HCL 12-15%">HCL 12-15%</option>
									<option value="HCL 17-28%">HCL 17-28%</option>
									<option value="Pad">Pad</option>
									<option value="Flush">Flush</option>
									<option value="Pre Flush">Pre Flush</option>
									<option value="Shut Down">Shut Down</option>
									<option value="Ball Drop">Ball Drop</option>
									<option value="100 Mesh">100 Mesh</option>
									<option value="40/70 Mesh">40/70 Mesh</option>
									<option value="30/50 Mesh">30/50 Mesh</option>
									<option value="20/40 Mesh">20/40 Mesh</option>
									<option value="16/30 Mesh">16/30 Mesh</option>
									<option value="12/18 Mesh">12/18 Mesh</option>
							</select>
							</td>
							<td><input type="text" min="0" max="" class="form-control"
								th:value="${list.rate}" name="ip_upinput" id="" required
								style="border: none;"  /></td>
							<td><input type="text" min="0" max="" class="form-control"
								th:value="${list.cleanvol}" name="ip_upinput" id="" required
								style="border: none;"  /></td>
							<td><input type="text" min="0" max="" class="form-control"
								th:value="${list.slurryvol}" name="" id="" style="border: none;"
								 readonly /></td>
							<td><input type="text" min="0" max="" class="form-control"
								th:value="${list.cumslurry}" name="" id="" style="border: none;"
								 readonly /></td>
							<td><input type="text" min="0" max="" class="form-control"
								th:value="${list.begprop}" name="ip_upinput" id="" required
								style="border: none;"  /></td>
							<td><input type="text" min="0" max="" class="form-control"
								th:value="${list.endprop}" name="ip_upinput" id="" required
								style="border: none;"  /></td>
							<td><input type="text" min="0" max="" class="form-control"
								th:value="${list.stageprop}" name="" id="" style="border: none;"
								 readonly /></td>
							<td><input type="text" min="0" max="" class="form-control"
								th:value="${list.cumprop}" name="" id="" style="border: none;"
								 readonly /></td>
							<td><input type="text" min="0" max="" class="form-control"
								th:value="${list.steptime}" name="" id="" style="border: none;"
								 readonly /></td>
							<td><input class="ip_updelfield btn btn-danger"
								type="button" value="Remove" style="width: 105%;" />
							 <input id="ip_upid"
								th:name="ip_upid" type="hidden" th:value="${list.id}">
								</td>
						
						</tr>
                            
                        </table>
						</form>
                    </div>
                </div>
                <br>
                <center>
            <input type="submit" id="ip_upupbt" value="Update" class="btn btn-primary" style="width:10%"></input>
            </center>